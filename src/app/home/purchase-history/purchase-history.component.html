
<div class="container-fluid row" xmlns="http://www.w3.org/1999/html" >
  <div class="col-sm-7 purchase-history-container">
    <h1 class="purchase-history-title">Purchase history</h1>
    <div fxLayout="column" fxLayoutGap="15px">

      <div  *ngIf="orders.length> 0"  class="orders-container mat-elevation-z9">

        <div class="table-container">

          <table mat-table [dataSource]="orders" class="order-table">

            <!-- Course Name Column -->
            <ng-container matColumnDef="courses">
              <th mat-header-cell *matHeaderCellDef class="first-column"></th>
              <td mat-cell *matCellDef="let row" class="first-column"><mat-icon>shopping_cart</mat-icon> {{row.purchases[0].course.name}}
              </td>
            </ng-container>


            <!-- Purchase Date Column -->
            <ng-container matColumnDef="purchaseDate">
              <th mat-header-cell *matHeaderCellDef>Date
              </th>
              <td mat-cell *matCellDef="let row">{{formatDate(row.purchaseDate) }}</td>
            </ng-container>


            <!-- Total Column -->
            <ng-container matColumnDef="total">
              <th mat-header-cell *matHeaderCellDef >Total price
              </th>
              <td mat-cell *matCellDef="let row"> {{row.total}} </td>
            </ng-container>

            <!-- Payment type Column -->
            <ng-container matColumnDef="paymentType">
              <th mat-header-cell *matHeaderCellDef >Payment type
              </th>
              <td mat-cell *matCellDef="let row"> {{row.paymentType}} </td>
            </ng-container>



            <!-- Menu Column -->
            <ng-container matColumnDef="menu">
              <th mat-header-cell *matHeaderCellDef>Action</th>
              <td mat-cell *matCellDef="let row">
                <button mat-raised-button (click)="checkReceipt(row.id)">Receipt
                </button>
              </td>
            </ng-container>


            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
          </table>
        </div>

      </div>

      <div *ngIf="orders.length==0" class="empty-purchase-container">
        <mat-icon>add_shopping_cart</mat-icon>
        <p>You don't have any course purchases.</p>
      </div>

    </div>

  </div>
</div>
